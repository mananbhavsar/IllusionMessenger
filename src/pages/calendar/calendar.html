<ion-header>
  <header [title]="getTitle()"></header>
</ion-header>
<ion-content>
  <empty *ngIf="!isInternetConnected"></empty>
  <div *ngIf="daysInThisMonth" class="calendar-header">
    <ion-row class="calendar-month">
      <ion-col col-2 (click)="goToLastMonth()">
        <ion-icon color="light-gray" name="ios-arrow-back"></ion-icon>
      </ion-col>
      <ion-col class="month" col-8>{{selectedMonth}} {{selectedYear}}</ion-col>
      <ion-col col-2 (click)="goToNextMonth()">
        <ion-icon color="light-gray" name="ios-arrow-forward"></ion-icon>
      </ion-col>
    </ion-row>
  </div>
  <div *ngIf="daysInThisMonth" class="calendar-body">
    <ion-grid box-shadow>
      <ion-row class="calendar-weekday">
        <ion-col week-padding>S</ion-col>
        <ion-col week-padding>M</ion-col>
        <ion-col week-padding>T</ion-col>
        <ion-col week-padding>W</ion-col>
        <ion-col week-padding>T</ion-col>
        <ion-col week-padding>F</ion-col>
        <ion-col week-padding>S</ion-col>
      </ion-row>
      <ion-row class="calendar-date">
        <ion-col col-1 *ngFor="let lastDay of daysInLastMonth" class="last-month">{{lastDay.Day}}</ion-col>
        <ion-col class="current-month" (click)="SelectDate(day,i+1)" col-1 *ngFor="let day of daysInThisMonth; let i = index;">
          <div [ngClass]="{'currentDate' : todayDate === i + 1 && todayMonth === day.Month}" *ngIf="todayDate === i + 1 && (todayMonth === day.Month); else otherDate">{{i
            + 1}}</div>
          <ng-template #otherDate class="otherDate">
            <!-- <div *ngIf="day.TotalTime === '00:00'" [ngClass]="{'absent-date' : day.TotalTime === '00:00'}">{{i + 1}}</div> -->
            <div [ngClass]="{'selected-date' : isSelected === i + 1, 'holiday' : day.IsHoliday, 'absent-date' : day.IsAbsent}"
              class="working-day">{{i + 1}}</div>
          </ng-template>
          <div [ngClass]="{'current-day' : todayDate === i + 1 && todayMonth === day.Month}" *ngIf="todayDate === i + 1 && (todayMonth === day.Month); else otherDay">{{day.TotalTime}}</div>
          <ng-template #otherDay>
            <div *ngIf="!day.IsHoliday" [ngClass]="{'selected-date' : isSelected === i + 1, 'holiday' : day.IsHoliday, 'absent-date' : day.IsAbsent}"
              class="event-bullet">{{day.TotalTime}}</div>
            <div *ngIf="day.IsHoliday" class="holiday-event">Holiday</div>
          </ng-template>
        </ion-col>
        <ion-col col-1 *ngFor="let nextDay of daysInNextMonth" class="next-month">{{nextDay.Day}}</ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <ion-list margin>
    <ion-item box-shadow margin-bottom *ngIf="eventList">
      <ion-row>
        <ion-col class="title" col-6>
          In-Time
        </ion-col>
        <ion-col class="title" col-6>
          Out-Time
        </ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="value" col-6>
            {{eventList.InTime}}
          </ion-col>
          <ion-col class="value" col-6>
            {{eventList.OutTime}}
          </ion-col>
        </ion-row>
    </ion-item>
    <ion-item box-shadow margin-bottom *ngIf="eventList">
      <ion-row>
        <ion-col class="title" col-6>
          Target Units
        </ion-col>
        <ion-col class="title" col-6>
          Completed Units
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="value" col-6>
          {{eventList.TargetUnits}}
        </ion-col>
        <ion-col class="value" col-6>
          {{eventList.CompletedUnits}}
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-item box-shadow margin-bottom *ngIf="eventList">
      <ion-row *ngIf="eventList.Shift">
        <ion-col col-6 class="title">
          Shift
        </ion-col>
      </ion-row>
      <ion-row *ngIf="eventList.Shift">
        <ion-col col-6 class="value">
          {{eventList.Shift}}
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-item box-shadow margin-bottom class="month-data" *ngIf="monthData">
      <ion-row>
        <ion-col text-wrap class="title">
          Total Hrs Completed
        </ion-col>
        <ion-col text-wrap class="title">
            Total Hours to be completed
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col text-wrap class="value">
              {{monthData.HoursCompleted}} 
          </ion-col>
          <ion-col text-wrap class="value">
            {{monthData.HoursToBeCompleted}}
          </ion-col>
        </ion-row>
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer *ngIf="monthData" class="hide-on-keyboard-open">
  <ion-row>
    <ion-col class="total-present-value">
      {{monthData.PresentDays}}
    </ion-col>
    <ion-col class="total-present-value">
      {{monthData.AbsentDays}}
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col class="total-present-label">
      Total present days
    </ion-col>
    <ion-col class="total-present-label">
      Total absent days
    </ion-col>
  </ion-row>
</ion-footer>