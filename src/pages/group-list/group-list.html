
<ion-header>
    <header [title]="getTitle()" [buttons]="[{icon : 'search', name : 'search'},{ icon: 'flash', name: 'flash'},{ icon: 'ios-options', name: 'sort'}]"
    (buttonClicked)="headerButtonClicked($event)"></header>
    <internet-status></internet-status>
</ion-header>


<ion-content>
    <ng-container>
        <ion-item-group [reorder]="reorder" (ionItemReorder)="reorderItems($event)">
            <ion-item *ngFor="let group of groups" (click)="openGroup(group.GroupID,group.Group)">
                <ion-label>
                    <h2>
                        {{group.Group}}
                        <span float-right>
                            <ion-badge *ngIf="getBadge(group.GroupCode)">{{badges[group.GroupCode]}}</ion-badge>
                        </span>
                    </h2>
                    <p>
                        <ion-row>
                            <ion-col text-start class="activetopics" *ngIf="group.ActiveTopics > 0">
                                <ion-icon name="ios-alarm"></ion-icon> {{group.ActiveTopics}} {{'due' + (group.ActiveTopics > 1 ? 's' :
                                '')}}
                            </ion-col>
                            <ion-col text-center class="responsibletopics" *ngIf="group.ResponsibleCount && group.ResponsibleCount > 0">
                                <ion-icon name="ios-star"></ion-icon> {{group.ResponsibleCount}} assigned
                            </ion-col>
                            <ion-col text-end class="overdue" *ngIf="group.OverDueTopics > 0">
                                <ion-icon name="ios-alert"></ion-icon> {{group.OverDueTopics}} {{'over-due' + (group.OverDueTopics > 1 ?
                                's' : '')}}
                            </ion-col>
                        </ion-row>
                    </p>
                </ion-label>
                <ion-checkbox *ngIf="readOptions" item-start color="primary" [checked]="group.IsRead" (ionChange)="readMessage($event,group)"></ion-checkbox>
                <ion-icon name="ios-arrow-forward" item-end></ion-icon>
            </ion-item>
        </ion-item-group>
    </ng-container>
</ion-content>
